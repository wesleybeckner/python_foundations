
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.4">
    
    
      
        <title>SOLN X1 Spotify API - Python Foundations</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bb3983ee.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
      <link rel="stylesheet" href="../../styles.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-114664473-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-foundations-x1-the-spotify-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Foundations" class="md-header__button md-logo" aria-label="Python Foundations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Foundations
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SOLN X1 Spotify API
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wesleybeckner/python_foundations" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    python_foundations
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Foundations" class="md-nav__button md-logo" aria-label="Python Foundations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Python Foundations
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wesleybeckner/python_foundations" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    python_foundations
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Sessions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sessions" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Sessions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S1_Python_and_Jupyter/" class="md-nav__link">
        Introduction to Python and Jupyter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S2_Data_Structures_and_Flow/" class="md-nav__link">
        Data Structures and Flow Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S3_Functions_and_Debugging/" class="md-nav__link">
        Functions and Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S4_Object_Oriented_Programming/" class="md-nav__link">
        Object Oriented Programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S5_Pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S6_Matplotlib/" class="md-nav__link">
        Matplotlib
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../S7_Numpy/" class="md-nav__link">
        NumPy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Labs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Labs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Labs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L1_Python_and_Jupyter/" class="md-nav__link">
        Practice with Python and Jupyter Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L2_Flow_Control/" class="md-nav__link">
        Practice with Flow Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L3_Functions/" class="md-nav__link">
        Practice with Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L4_Pandas/" class="md-nav__link">
        Practice with Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/L5_Numpy/" class="md-nav__link">
        Practice with NumPy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Project
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Project" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Project
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/P1_Building_TicTacToe_in_Python/" class="md-nav__link">
        Building TicTacToe in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/P2_OOP_in_TicTacToe/" class="md-nav__link">
        Object Oriented Programming in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/P3_Random_TicTacToe_Agents/" class="md-nav__link">
        Random TicTacToe Agents
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../project/P4_Debugging_TicTacToe_Agents/" class="md-nav__link">
        Debugging TicTacToe Agents
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Extras
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Extras" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Extras
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/X1_Spotify_API/" class="md-nav__link">
        Spotify API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/X2_Additional_Exercises/" class="md-nav__link">
        Additional Exercises
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-and-import-libraries" class="md-nav__link">
    Install and import libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-developer-account" class="md-nav__link">
    Setup developer account
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#top-10-tracks-of-an-artist" class="md-nav__link">
    Top 10 tracks of an artist
  </a>
  
    <nav class="md-nav" aria-label="Top 10 tracks of an artist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-additional-artists" class="md-nav__link">
    Add additional artists
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualize-the-audio-features" class="md-nav__link">
    Visualize the audio features
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    üèãÔ∏è‚Äç‚ôÄÔ∏è Exercises
  </a>
  
    <nav class="md-nav" aria-label="üèãÔ∏è‚Äç‚ôÄÔ∏è Exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exercise-1-find-artist-urls-and-build-dataset" class="md-nav__link">
    üïµÔ∏è‚Äç‚ôÄÔ∏è Exercise 1: Find artist urls and build dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-2-visualize-features" class="md-nav__link">
    üí´ Exercise 2: Visualize Features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercise-3-write-a-function-that-returns-a-similarity-score-between-two-artists" class="md-nav__link">
    ‚öñÔ∏è Exercise 3: Write a function that returns a similarity score between two artists
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<p><a href="https://colab.research.google.com/github/wesleybeckner/python_foundations/blob/main/notebooks/solutions/SOLN_X1_Spotify_API.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<h1 id="python-foundations-x1-the-spotify-api">Python Foundations <br>X1: The Spotify API<a class="headerlink" href="#python-foundations-x1-the-spotify-api" title="Permanent link">&para;</a></h1>
<p><strong>Instructor</strong>: Wesley Beckner</p>
<p><strong>Contact</strong>: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#119;&#101;&#115;&#108;&#101;&#121;&#98;&#101;&#99;&#107;&#110;&#101;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#119;&#101;&#115;&#108;&#101;&#121;&#98;&#101;&#99;&#107;&#110;&#101;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a></p>
<hr />
<p><br></p>
<p>For this workbook we're going to use the <a href="https://spotipy.readthedocs.io/en/2.19.0/#"><code>spotipy</code></a> library to access the Spotify Web API!</p>
<p><br></p>
<hr />
<h2 id="install-and-import-libraries">Install and import libraries<a class="headerlink" href="#install-and-import-libraries" title="Permanent link">&para;</a></h2>
<p>First we will need to install it:</p>
<div class="codehilite"><pre><span></span><code><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">spotipy</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Collecting spotipy
  Downloading spotipy-2.19.0-py3-none-any.whl (27 kB)
Requirement already satisfied: six&gt;=1.15.0 in /usr/local/lib/python3.7/dist-packages (from spotipy) (1.15.0)
Collecting urllib3&gt;=1.26.0
  Downloading urllib3-1.26.8-py2.py3-none-any.whl (138 kB)
[K     |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 138 kB 14.7 MB/s 
[?25hCollecting requests&gt;=2.25.0
  Downloading requests-2.27.1-py2.py3-none-any.whl (63 kB)
[K     |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 63 kB 687 kB/s 
[?25hRequirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.7/dist-packages (from requests&gt;=2.25.0-&gt;spotipy) (2.0.11)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.7/dist-packages (from requests&gt;=2.25.0-&gt;spotipy) (2021.10.8)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.7/dist-packages (from requests&gt;=2.25.0-&gt;spotipy) (2.10)
Installing collected packages: urllib3, requests, spotipy
  Attempting uninstall: urllib3
    Found existing installation: urllib3 1.24.3
    Uninstalling urllib3-1.24.3:
      Successfully uninstalled urllib3-1.24.3
  Attempting uninstall: requests
    Found existing installation: requests 2.23.0
    Uninstalling requests-2.23.0:
      Successfully uninstalled requests-2.23.0
[31mERROR: pip&#39;s dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
google-colab 1.0.0 requires requests~=2.23.0, but you have requests 2.27.1 which is incompatible.
datascience 0.10.6 requires folium==0.2.1, but you have folium 0.8.3 which is incompatible.[0m
Successfully installed requests-2.27.1 spotipy-2.19.0 urllib3-1.26.8
</code></pre></div>

<p>And then import</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">spotipy</span> <span class="kn">import</span> <span class="n">client</span>
<span class="kn">import</span> <span class="nn">spotipy</span>
<span class="kn">from</span> <span class="nn">spotipy.oauth2</span> <span class="kn">import</span> <span class="n">SpotifyClientCredentials</span><span class="p">,</span> <span class="n">SpotifyOAuth</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</code></pre></div>

<h2 id="setup-developer-account">Setup developer account<a class="headerlink" href="#setup-developer-account" title="Permanent link">&para;</a></h2>
<p>You'll need to visit this <a href="https://developer.spotify.com/dashboard/">link</a> to setup a developer account, then fill in your authorization information below</p>
<div class="codehilite"><pre><span></span><code><span class="n">SPOTIPY_CLIENT_ID</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">SPOTIPY_CLIENT_SECRET</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>

<h2 id="top-10-tracks-of-an-artist">Top 10 tracks of an artist<a class="headerlink" href="#top-10-tracks-of-an-artist" title="Permanent link">&para;</a></h2>
<p>We can grab the first 10 tracks of Led Zepplin:</p>
<div class="codehilite"><pre><span></span><code><span class="n">alist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;elephant&#39;</span><span class="p">,</span> <span class="s1">&#39;pinecone&#39;</span><span class="p">,</span> <span class="s1">&#39;toothbrush&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">alist</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">item</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>0 elephant
1 pinecone
2 toothbrush
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">lz_uri</span> <span class="o">=</span> <span class="s1">&#39;spotify:artist:36QJpDe2go2KgaRleHCDTp&#39;</span>

<span class="n">spotify</span> <span class="o">=</span> <span class="n">spotipy</span><span class="o">.</span><span class="n">Spotify</span><span class="p">(</span><span class="n">client_credentials_manager</span><span class="o">=</span><span class="n">SpotifyClientCredentials</span><span class="p">(</span>
    <span class="n">client_id</span><span class="o">=</span><span class="n">SPOTIPY_CLIENT_ID</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="o">=</span><span class="n">SPOTIPY_CLIENT_SECRET</span>
<span class="p">))</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">spotify</span><span class="o">.</span><span class="n">artist_top_tracks</span><span class="p">(</span><span class="n">lz_uri</span><span class="p">)</span>
<span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">]):</span>
    <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;track    : &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;audio    : &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;preview_url&#39;</span><span class="p">])</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cover art: &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;images&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;url&#39;</span><span class="p">])</span>
      <span class="nb">print</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>track    : Stairway to Heaven - Remaster
audio    : https://p.scdn.co/mp3-preview/8226164717312bc411f8635580562d67e191a754?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273c8a11e48c91a982d086afc69

track    : Immigrant Song - Remaster
audio    : https://p.scdn.co/mp3-preview/8455599677a13017978dcd3f4b210937f0a16bcb?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b27390a50cfe99a4c19ff3cbfbdb

track    : Whole Lotta Love - 1990 Remaster
audio    : https://p.scdn.co/mp3-preview/ce11b19a4d2de9976d7626df0717d0073863909c?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273fc4f17340773c6c3579fea0d

track    : Black Dog - Remaster
audio    : https://p.scdn.co/mp3-preview/9b76619fd9d563a48d38cc90ca00c3008327b52e?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273c8a11e48c91a982d086afc69

track    : Kashmir - Remaster
audio    : https://p.scdn.co/mp3-preview/f3ca68c9ceaa3435d5bd55c0199ba0b09b916cce?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273765b0617b572bdd1dbdc7d8e

track    : Ramble On - 1990 Remaster
audio    : https://p.scdn.co/mp3-preview/83383aceb01ea27b0bffdedfaebe55e29b33aca2?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273fc4f17340773c6c3579fea0d

track    : Rock and Roll - Remaster
audio    : https://p.scdn.co/mp3-preview/e7ea8a13f7caf6942c5447e9cd96aac2a076d85a?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273c8a11e48c91a982d086afc69

track    : Going to California - Remaster
audio    : https://p.scdn.co/mp3-preview/4bdae56c6a9f7a8ec42b753cb7bea2c77ec68f1e?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b273c8a11e48c91a982d086afc69

track    : Good Times Bad Times - 1993 Remaster
audio    : https://p.scdn.co/mp3-preview/c1f024eb57b569b926c8e68cab0a6056dc7d9654?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b2736f2f499c1df1f210c9b34b32

track    : D&#39;yer Mak&#39;er - Remaster
audio    : https://p.scdn.co/mp3-preview/863a26744fa4389f1dc61557133df3453be82d7b?cid=93cef3f9255042d7854a6014e0929504
cover art: https://i.scdn.co/image/ab67616d0000b2731816adce1d49e35d3ce9a1d1
</code></pre></div>

<p>the top tracks API only gives the top 10 tracks by an artist:</p>
<div class="codehilite"><pre><span></span><code><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>10
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ids</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>[&#39;5CQ30WqJwcep0pYcV4AMNc&#39;,
 &#39;78lgmZwycJ3nzsdgmPPGNx&#39;,
 &#39;0hCB0YR03f6AmQaHbwWDe8&#39;,
 &#39;3qT4bUD1MaWpGrTwcvguhb&#39;,
 &#39;6Vjk8MNXpQpi0F4BefdTyq&#39;,
 &#39;3MODES4TNtygekLl146Dxd&#39;,
 &#39;4PRGxHpCpF2yoOHYKQIEwD&#39;,
 &#39;70gbuMqwNBE2Y5rkQJE9By&#39;,
 &#39;0QwZfbw26QeUoIy82Z2jYp&#39;,
 &#39;4ItljeeAXtHsnsnnQojaO2&#39;]
</code></pre></div>

<p>Spotify has an audio features API that can be used for ML or data visualization:</p>
<div class="codehilite"><pre><span></span><code><span class="n">features</span> <span class="o">=</span> <span class="n">spotify</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
<span class="n">features</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>[{&#39;acousticness&#39;: 0.58,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/5CQ30WqJwcep0pYcV4AMNc&#39;,
  &#39;danceability&#39;: 0.338,
  &#39;duration_ms&#39;: 482830,
  &#39;energy&#39;: 0.34,
  &#39;id&#39;: &#39;5CQ30WqJwcep0pYcV4AMNc&#39;,
  &#39;instrumentalness&#39;: 0.0032,
  &#39;key&#39;: 9,
  &#39;liveness&#39;: 0.116,
  &#39;loudness&#39;: -12.049,
  &#39;mode&#39;: 0,
  &#39;speechiness&#39;: 0.0339,
  &#39;tempo&#39;: 82.433,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/5CQ30WqJwcep0pYcV4AMNc&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:5CQ30WqJwcep0pYcV4AMNc&#39;,
  &#39;valence&#39;: 0.197},
 {&#39;acousticness&#39;: 0.013,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/78lgmZwycJ3nzsdgmPPGNx&#39;,
  &#39;danceability&#39;: 0.564,
  &#39;duration_ms&#39;: 146250,
  &#39;energy&#39;: 0.932,
  &#39;id&#39;: &#39;78lgmZwycJ3nzsdgmPPGNx&#39;,
  &#39;instrumentalness&#39;: 0.169,
  &#39;key&#39;: 11,
  &#39;liveness&#39;: 0.349,
  &#39;loudness&#39;: -10.068,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.0554,
  &#39;tempo&#39;: 112.937,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/78lgmZwycJ3nzsdgmPPGNx&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:78lgmZwycJ3nzsdgmPPGNx&#39;,
  &#39;valence&#39;: 0.619},
 {&#39;acousticness&#39;: 0.0484,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/0hCB0YR03f6AmQaHbwWDe8&#39;,
  &#39;danceability&#39;: 0.412,
  &#39;duration_ms&#39;: 333893,
  &#39;energy&#39;: 0.902,
  &#39;id&#39;: &#39;0hCB0YR03f6AmQaHbwWDe8&#39;,
  &#39;instrumentalness&#39;: 0.131,
  &#39;key&#39;: 9,
  &#39;liveness&#39;: 0.405,
  &#39;loudness&#39;: -11.6,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.405,
  &#39;tempo&#39;: 89.74,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/0hCB0YR03f6AmQaHbwWDe8&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:0hCB0YR03f6AmQaHbwWDe8&#39;,
  &#39;valence&#39;: 0.422},
 {&#39;acousticness&#39;: 0.396,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/3qT4bUD1MaWpGrTwcvguhb&#39;,
  &#39;danceability&#39;: 0.437,
  &#39;duration_ms&#39;: 295387,
  &#39;energy&#39;: 0.864,
  &#39;id&#39;: &#39;3qT4bUD1MaWpGrTwcvguhb&#39;,
  &#39;instrumentalness&#39;: 0.0314,
  &#39;key&#39;: 4,
  &#39;liveness&#39;: 0.242,
  &#39;loudness&#39;: -7.842,
  &#39;mode&#39;: 0,
  &#39;speechiness&#39;: 0.0904,
  &#39;tempo&#39;: 81.394,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/3qT4bUD1MaWpGrTwcvguhb&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:3qT4bUD1MaWpGrTwcvguhb&#39;,
  &#39;valence&#39;: 0.749},
 {&#39;acousticness&#39;: 0.452,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/6Vjk8MNXpQpi0F4BefdTyq&#39;,
  &#39;danceability&#39;: 0.483,
  &#39;duration_ms&#39;: 517125,
  &#39;energy&#39;: 0.615,
  &#39;id&#39;: &#39;6Vjk8MNXpQpi0F4BefdTyq&#39;,
  &#39;instrumentalness&#39;: 0.000414,
  &#39;key&#39;: 2,
  &#39;liveness&#39;: 0.0512,
  &#39;loudness&#39;: -8.538,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.0497,
  &#39;tempo&#39;: 80.576,
  &#39;time_signature&#39;: 3,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/6Vjk8MNXpQpi0F4BefdTyq&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:6Vjk8MNXpQpi0F4BefdTyq&#39;,
  &#39;valence&#39;: 0.594},
 {&#39;acousticness&#39;: 0.072,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/3MODES4TNtygekLl146Dxd&#39;,
  &#39;danceability&#39;: 0.468,
  &#39;duration_ms&#39;: 263333,
  &#39;energy&#39;: 0.607,
  &#39;id&#39;: &#39;3MODES4TNtygekLl146Dxd&#39;,
  &#39;instrumentalness&#39;: 0.000852,
  &#39;key&#39;: 9,
  &#39;liveness&#39;: 0.225,
  &#39;loudness&#39;: -11.367,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.0336,
  &#39;tempo&#39;: 98.429,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/3MODES4TNtygekLl146Dxd&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:3MODES4TNtygekLl146Dxd&#39;,
  &#39;valence&#39;: 0.886},
 {&#39;acousticness&#39;: 0.000582,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/4PRGxHpCpF2yoOHYKQIEwD&#39;,
  &#39;danceability&#39;: 0.317,
  &#39;duration_ms&#39;: 220561,
  &#39;energy&#39;: 0.887,
  &#39;id&#39;: &#39;4PRGxHpCpF2yoOHYKQIEwD&#39;,
  &#39;instrumentalness&#39;: 0.00258,
  &#39;key&#39;: 9,
  &#39;liveness&#39;: 0.0891,
  &#39;loudness&#39;: -7.292,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.0375,
  &#39;tempo&#39;: 169.613,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/4PRGxHpCpF2yoOHYKQIEwD&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:4PRGxHpCpF2yoOHYKQIEwD&#39;,
  &#39;valence&#39;: 0.871},
 {&#39;acousticness&#39;: 0.943,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/70gbuMqwNBE2Y5rkQJE9By&#39;,
  &#39;danceability&#39;: 0.503,
  &#39;duration_ms&#39;: 212161,
  &#39;energy&#39;: 0.265,
  &#39;id&#39;: &#39;70gbuMqwNBE2Y5rkQJE9By&#39;,
  &#39;instrumentalness&#39;: 0.045,
  &#39;key&#39;: 2,
  &#39;liveness&#39;: 0.0867,
  &#39;loudness&#39;: -15.913,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.0333,
  &#39;tempo&#39;: 78.044,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/70gbuMqwNBE2Y5rkQJE9By&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:70gbuMqwNBE2Y5rkQJE9By&#39;,
  &#39;valence&#39;: 0.522},
 {&#39;acousticness&#39;: 0.0382,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/0QwZfbw26QeUoIy82Z2jYp&#39;,
  &#39;danceability&#39;: 0.476,
  &#39;duration_ms&#39;: 166267,
  &#39;energy&#39;: 0.717,
  &#39;id&#39;: &#39;0QwZfbw26QeUoIy82Z2jYp&#39;,
  &#39;instrumentalness&#39;: 7.61e-05,
  &#39;key&#39;: 9,
  &#39;liveness&#39;: 0.0818,
  &#39;loudness&#39;: -9.192,
  &#39;mode&#39;: 1,
  &#39;speechiness&#39;: 0.0949,
  &#39;tempo&#39;: 93.584,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/0QwZfbw26QeUoIy82Z2jYp&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:0QwZfbw26QeUoIy82Z2jYp&#39;,
  &#39;valence&#39;: 0.753},
 {&#39;acousticness&#39;: 0.262,
  &#39;analysis_url&#39;: &#39;https://api.spotify.com/v1/audio-analysis/4ItljeeAXtHsnsnnQojaO2&#39;,
  &#39;danceability&#39;: 0.525,
  &#39;duration_ms&#39;: 262748,
  &#39;energy&#39;: 0.929,
  &#39;id&#39;: &#39;4ItljeeAXtHsnsnnQojaO2&#39;,
  &#39;instrumentalness&#39;: 2.9e-05,
  &#39;key&#39;: 9,
  &#39;liveness&#39;: 0.0754,
  &#39;loudness&#39;: -8.56,
  &#39;mode&#39;: 0,
  &#39;speechiness&#39;: 0.0784,
  &#39;tempo&#39;: 163.503,
  &#39;time_signature&#39;: 4,
  &#39;track_href&#39;: &#39;https://api.spotify.com/v1/tracks/4ItljeeAXtHsnsnnQojaO2&#39;,
  &#39;type&#39;: &#39;audio_features&#39;,
  &#39;uri&#39;: &#39;spotify:track:4ItljeeAXtHsnsnnQojaO2&#39;,
  &#39;valence&#39;: 0.556}]
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</code></pre></div>

<div id="df-890574c7-a6f5-4b82-ba68-39683951e1d1">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>valence</th>
      <th>tempo</th>
      <th>type</th>
      <th>id</th>
      <th>uri</th>
      <th>track_href</th>
      <th>analysis_url</th>
      <th>duration_ms</th>
      <th>time_signature</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.338</td>
      <td>0.340</td>
      <td>9</td>
      <td>-12.049</td>
      <td>0</td>
      <td>0.0339</td>
      <td>0.580000</td>
      <td>0.003200</td>
      <td>0.1160</td>
      <td>0.197</td>
      <td>82.433</td>
      <td>audio_features</td>
      <td>5CQ30WqJwcep0pYcV4AMNc</td>
      <td>spotify:track:5CQ30WqJwcep0pYcV4AMNc</td>
      <td>https://api.spotify.com/v1/tracks/5CQ30WqJwcep...</td>
      <td>https://api.spotify.com/v1/audio-analysis/5CQ3...</td>
      <td>482830</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.564</td>
      <td>0.932</td>
      <td>11</td>
      <td>-10.068</td>
      <td>1</td>
      <td>0.0554</td>
      <td>0.013000</td>
      <td>0.169000</td>
      <td>0.3490</td>
      <td>0.619</td>
      <td>112.937</td>
      <td>audio_features</td>
      <td>78lgmZwycJ3nzsdgmPPGNx</td>
      <td>spotify:track:78lgmZwycJ3nzsdgmPPGNx</td>
      <td>https://api.spotify.com/v1/tracks/78lgmZwycJ3n...</td>
      <td>https://api.spotify.com/v1/audio-analysis/78lg...</td>
      <td>146250</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.412</td>
      <td>0.902</td>
      <td>9</td>
      <td>-11.600</td>
      <td>1</td>
      <td>0.4050</td>
      <td>0.048400</td>
      <td>0.131000</td>
      <td>0.4050</td>
      <td>0.422</td>
      <td>89.740</td>
      <td>audio_features</td>
      <td>0hCB0YR03f6AmQaHbwWDe8</td>
      <td>spotify:track:0hCB0YR03f6AmQaHbwWDe8</td>
      <td>https://api.spotify.com/v1/tracks/0hCB0YR03f6A...</td>
      <td>https://api.spotify.com/v1/audio-analysis/0hCB...</td>
      <td>333893</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.437</td>
      <td>0.864</td>
      <td>4</td>
      <td>-7.842</td>
      <td>0</td>
      <td>0.0904</td>
      <td>0.396000</td>
      <td>0.031400</td>
      <td>0.2420</td>
      <td>0.749</td>
      <td>81.394</td>
      <td>audio_features</td>
      <td>3qT4bUD1MaWpGrTwcvguhb</td>
      <td>spotify:track:3qT4bUD1MaWpGrTwcvguhb</td>
      <td>https://api.spotify.com/v1/tracks/3qT4bUD1MaWp...</td>
      <td>https://api.spotify.com/v1/audio-analysis/3qT4...</td>
      <td>295387</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.483</td>
      <td>0.615</td>
      <td>2</td>
      <td>-8.538</td>
      <td>1</td>
      <td>0.0497</td>
      <td>0.452000</td>
      <td>0.000414</td>
      <td>0.0512</td>
      <td>0.594</td>
      <td>80.576</td>
      <td>audio_features</td>
      <td>6Vjk8MNXpQpi0F4BefdTyq</td>
      <td>spotify:track:6Vjk8MNXpQpi0F4BefdTyq</td>
      <td>https://api.spotify.com/v1/tracks/6Vjk8MNXpQpi...</td>
      <td>https://api.spotify.com/v1/audio-analysis/6Vjk...</td>
      <td>517125</td>
      <td>3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.468</td>
      <td>0.607</td>
      <td>9</td>
      <td>-11.367</td>
      <td>1</td>
      <td>0.0336</td>
      <td>0.072000</td>
      <td>0.000852</td>
      <td>0.2250</td>
      <td>0.886</td>
      <td>98.429</td>
      <td>audio_features</td>
      <td>3MODES4TNtygekLl146Dxd</td>
      <td>spotify:track:3MODES4TNtygekLl146Dxd</td>
      <td>https://api.spotify.com/v1/tracks/3MODES4TNtyg...</td>
      <td>https://api.spotify.com/v1/audio-analysis/3MOD...</td>
      <td>263333</td>
      <td>4</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.317</td>
      <td>0.887</td>
      <td>9</td>
      <td>-7.292</td>
      <td>1</td>
      <td>0.0375</td>
      <td>0.000582</td>
      <td>0.002580</td>
      <td>0.0891</td>
      <td>0.871</td>
      <td>169.613</td>
      <td>audio_features</td>
      <td>4PRGxHpCpF2yoOHYKQIEwD</td>
      <td>spotify:track:4PRGxHpCpF2yoOHYKQIEwD</td>
      <td>https://api.spotify.com/v1/tracks/4PRGxHpCpF2y...</td>
      <td>https://api.spotify.com/v1/audio-analysis/4PRG...</td>
      <td>220561</td>
      <td>4</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.503</td>
      <td>0.265</td>
      <td>2</td>
      <td>-15.913</td>
      <td>1</td>
      <td>0.0333</td>
      <td>0.943000</td>
      <td>0.045000</td>
      <td>0.0867</td>
      <td>0.522</td>
      <td>78.044</td>
      <td>audio_features</td>
      <td>70gbuMqwNBE2Y5rkQJE9By</td>
      <td>spotify:track:70gbuMqwNBE2Y5rkQJE9By</td>
      <td>https://api.spotify.com/v1/tracks/70gbuMqwNBE2...</td>
      <td>https://api.spotify.com/v1/audio-analysis/70gb...</td>
      <td>212161</td>
      <td>4</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.476</td>
      <td>0.717</td>
      <td>9</td>
      <td>-9.192</td>
      <td>1</td>
      <td>0.0949</td>
      <td>0.038200</td>
      <td>0.000076</td>
      <td>0.0818</td>
      <td>0.753</td>
      <td>93.584</td>
      <td>audio_features</td>
      <td>0QwZfbw26QeUoIy82Z2jYp</td>
      <td>spotify:track:0QwZfbw26QeUoIy82Z2jYp</td>
      <td>https://api.spotify.com/v1/tracks/0QwZfbw26QeU...</td>
      <td>https://api.spotify.com/v1/audio-analysis/0QwZ...</td>
      <td>166267</td>
      <td>4</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.525</td>
      <td>0.929</td>
      <td>9</td>
      <td>-8.560</td>
      <td>0</td>
      <td>0.0784</td>
      <td>0.262000</td>
      <td>0.000029</td>
      <td>0.0754</td>
      <td>0.556</td>
      <td>163.503</td>
      <td>audio_features</td>
      <td>4ItljeeAXtHsnsnnQojaO2</td>
      <td>spotify:track:4ItljeeAXtHsnsnnQojaO2</td>
      <td>https://api.spotify.com/v1/tracks/4ItljeeAXtHs...</td>
      <td>https://api.spotify.com/v1/audio-analysis/4Itl...</td>
      <td>262748</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-890574c7-a6f5-4b82-ba68-39683951e1d1')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-890574c7-a6f5-4b82-ba68-39683951e1d1 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-890574c7-a6f5-4b82-ba68-39683951e1d1');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<h3 id="add-additional-artists">Add additional artists<a class="headerlink" href="#add-additional-artists" title="Permanent link">&para;</a></h3>
<p>Let's get some other artist data to compare with:</p>
<div class="codehilite"><pre><span></span><code><span class="n">artist_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;zep&#39;</span><span class="p">:</span> <span class="s1">&#39;36QJpDe2go2KgaRleHCDTp&#39;</span><span class="p">,</span>
               <span class="s1">&#39;tswift&#39;</span><span class="p">:</span> <span class="s1">&#39;06HL4z0CvFAxyc27GXpf02&#39;</span><span class="p">,</span>
               <span class="s1">&#39;debussy&#39;</span><span class="p">:</span> <span class="s1">&#39;1Uff91EOsvd99rtAupatMP&#39;</span><span class="p">,</span>
               <span class="s1">&#39;luttrell&#39;</span><span class="p">:</span> <span class="s1">&#39;4EOyJnoiiOJ4vuNhSBArB2&#39;</span><span class="p">,</span>
               <span class="s1">&#39;johnwill&#39;</span><span class="p">:</span> <span class="s1">&#39;3dRfiJ2650SZu6GbydcHNb&#39;</span><span class="p">}</span>

<span class="n">color_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;zep&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span>
               <span class="s1">&#39;tswift&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:green&#39;</span><span class="p">,</span>
               <span class="s1">&#39;debussy&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:orange&#39;</span><span class="p">,</span>
               <span class="s1">&#39;luttrell&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:red&#39;</span><span class="p">,</span>
               <span class="s1">&#39;johnwill&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:pink&#39;</span><span class="p">}</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">for</span> <span class="n">artist</span><span class="p">,</span> <span class="n">uri</span> <span class="ow">in</span> <span class="n">artist_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">artist</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">uri</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>zep 36QJpDe2go2KgaRleHCDTp
tswift 06HL4z0CvFAxyc27GXpf02
debussy 1Uff91EOsvd99rtAupatMP
luttrell 4EOyJnoiiOJ4vuNhSBArB2
johnwill 3dRfiJ2650SZu6GbydcHNb
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">artists</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">artist</span><span class="p">,</span> <span class="n">uri</span> <span class="ow">in</span> <span class="n">artist_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="n">results</span> <span class="o">=</span> <span class="n">spotify</span><span class="o">.</span><span class="n">artist_top_tracks</span><span class="p">(</span><span class="s1">&#39;spotify:artist:&#39;</span> <span class="o">+</span> <span class="n">uri</span><span class="p">)</span>


  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">]):</span>
      <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
      <span class="n">artists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">artist</span><span class="p">)</span>
      <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color_dict</span><span class="p">[</span><span class="n">artist</span><span class="p">])</span>
      <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;track    : &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cover art: &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;images&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;url&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>track    : Stairway to Heaven - Remaster
cover art: https://i.scdn.co/image/ab67616d0000b273c8a11e48c91a982d086afc69

track    : All Too Well (10 Minute Version) (Taylor&#39;s Version) (From The Vault)
cover art: https://i.scdn.co/image/ab67616d0000b273318443aab3531a0558e79a4d

track    : Clair de Lune, L. 32
cover art: https://i.scdn.co/image/ab67616d0000b2736e7bb273ff9cb1de1e1d4d0a

track    : Twin Souls
cover art: https://i.scdn.co/image/ab67616d0000b2735dea3da9d2751a0fa7b23fd3

track    : Carol of the Bells
cover art: https://i.scdn.co/image/ab67616d0000b273a68c06155b7c3cf82b00cb96
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">features</span> <span class="o">=</span> <span class="n">spotify</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;artist&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">artists</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span>
<span class="n">feat_names</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="mi">11</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">feat_names</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Index([&#39;danceability&#39;, &#39;energy&#39;, &#39;key&#39;, &#39;loudness&#39;, &#39;mode&#39;, &#39;speechiness&#39;,
       &#39;acousticness&#39;, &#39;instrumentalness&#39;, &#39;liveness&#39;, &#39;valence&#39;, &#39;tempo&#39;],
      dtype=&#39;object&#39;)
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>

<div id="df-6d0dc347-5e08-435e-9e9e-6e330d52b2fa">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>valence</th>
      <th>tempo</th>
      <th>type</th>
      <th>id</th>
      <th>uri</th>
      <th>track_href</th>
      <th>analysis_url</th>
      <th>duration_ms</th>
      <th>time_signature</th>
      <th>artist</th>
      <th>color</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.338</td>
      <td>0.340</td>
      <td>9</td>
      <td>-12.049</td>
      <td>0</td>
      <td>0.0339</td>
      <td>0.5800</td>
      <td>0.003200</td>
      <td>0.1160</td>
      <td>0.197</td>
      <td>82.433</td>
      <td>audio_features</td>
      <td>5CQ30WqJwcep0pYcV4AMNc</td>
      <td>spotify:track:5CQ30WqJwcep0pYcV4AMNc</td>
      <td>https://api.spotify.com/v1/tracks/5CQ30WqJwcep...</td>
      <td>https://api.spotify.com/v1/audio-analysis/5CQ3...</td>
      <td>482830</td>
      <td>4</td>
      <td>zep</td>
      <td>tab:blue</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.564</td>
      <td>0.932</td>
      <td>11</td>
      <td>-10.068</td>
      <td>1</td>
      <td>0.0554</td>
      <td>0.0130</td>
      <td>0.169000</td>
      <td>0.3490</td>
      <td>0.619</td>
      <td>112.937</td>
      <td>audio_features</td>
      <td>78lgmZwycJ3nzsdgmPPGNx</td>
      <td>spotify:track:78lgmZwycJ3nzsdgmPPGNx</td>
      <td>https://api.spotify.com/v1/tracks/78lgmZwycJ3n...</td>
      <td>https://api.spotify.com/v1/audio-analysis/78lg...</td>
      <td>146250</td>
      <td>4</td>
      <td>zep</td>
      <td>tab:blue</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.412</td>
      <td>0.902</td>
      <td>9</td>
      <td>-11.600</td>
      <td>1</td>
      <td>0.4050</td>
      <td>0.0484</td>
      <td>0.131000</td>
      <td>0.4050</td>
      <td>0.422</td>
      <td>89.740</td>
      <td>audio_features</td>
      <td>0hCB0YR03f6AmQaHbwWDe8</td>
      <td>spotify:track:0hCB0YR03f6AmQaHbwWDe8</td>
      <td>https://api.spotify.com/v1/tracks/0hCB0YR03f6A...</td>
      <td>https://api.spotify.com/v1/audio-analysis/0hCB...</td>
      <td>333893</td>
      <td>4</td>
      <td>zep</td>
      <td>tab:blue</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.437</td>
      <td>0.864</td>
      <td>4</td>
      <td>-7.842</td>
      <td>0</td>
      <td>0.0904</td>
      <td>0.3960</td>
      <td>0.031400</td>
      <td>0.2420</td>
      <td>0.749</td>
      <td>81.394</td>
      <td>audio_features</td>
      <td>3qT4bUD1MaWpGrTwcvguhb</td>
      <td>spotify:track:3qT4bUD1MaWpGrTwcvguhb</td>
      <td>https://api.spotify.com/v1/tracks/3qT4bUD1MaWp...</td>
      <td>https://api.spotify.com/v1/audio-analysis/3qT4...</td>
      <td>295387</td>
      <td>4</td>
      <td>zep</td>
      <td>tab:blue</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.483</td>
      <td>0.615</td>
      <td>2</td>
      <td>-8.538</td>
      <td>1</td>
      <td>0.0497</td>
      <td>0.4520</td>
      <td>0.000414</td>
      <td>0.0512</td>
      <td>0.594</td>
      <td>80.576</td>
      <td>audio_features</td>
      <td>6Vjk8MNXpQpi0F4BefdTyq</td>
      <td>spotify:track:6Vjk8MNXpQpi0F4BefdTyq</td>
      <td>https://api.spotify.com/v1/tracks/6Vjk8MNXpQpi...</td>
      <td>https://api.spotify.com/v1/audio-analysis/6Vjk...</td>
      <td>517125</td>
      <td>3</td>
      <td>zep</td>
      <td>tab:blue</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6d0dc347-5e08-435e-9e9e-6e330d52b2fa')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6d0dc347-5e08-435e-9e9e-6e330d52b2fa button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6d0dc347-5e08-435e-9e9e-6e330d52b2fa');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<h3 id="visualize-the-audio-features">Visualize the audio features<a class="headerlink" href="#visualize-the-audio-features" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># &lt;groupby&gt;.&lt;select&gt;.&lt;agg operation&gt;</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;artist&#39;</span><span class="p">)[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div>

<div id="df-9b6af801-f599-448f-819a-7c444303c54e">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>valence</th>
      <th>tempo</th>
    </tr>
    <tr>
      <th>artist</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>debussy</th>
      <td>0.2868</td>
      <td>0.019716</td>
      <td>3.6</td>
      <td>-30.3510</td>
      <td>0.8</td>
      <td>0.04209</td>
      <td>0.990800</td>
      <td>0.927000</td>
      <td>0.07817</td>
      <td>0.07747</td>
      <td>81.2996</td>
    </tr>
    <tr>
      <th>johnwill</th>
      <td>0.2783</td>
      <td>0.151770</td>
      <td>3.9</td>
      <td>-20.4347</td>
      <td>0.5</td>
      <td>0.03766</td>
      <td>0.903000</td>
      <td>0.615920</td>
      <td>0.18085</td>
      <td>0.19182</td>
      <td>87.2151</td>
    </tr>
    <tr>
      <th>luttrell</th>
      <td>0.5310</td>
      <td>0.706000</td>
      <td>4.5</td>
      <td>-9.3468</td>
      <td>0.7</td>
      <td>0.03504</td>
      <td>0.127682</td>
      <td>0.669259</td>
      <td>0.18714</td>
      <td>0.16701</td>
      <td>117.5059</td>
    </tr>
    <tr>
      <th>tswift</th>
      <td>0.5073</td>
      <td>0.621700</td>
      <td>4.2</td>
      <td>-6.4014</td>
      <td>0.9</td>
      <td>0.05926</td>
      <td>0.198158</td>
      <td>0.000263</td>
      <td>0.13591</td>
      <td>0.40550</td>
      <td>125.7815</td>
    </tr>
    <tr>
      <th>zep</th>
      <td>0.4523</td>
      <td>0.705800</td>
      <td>7.3</td>
      <td>-10.2421</td>
      <td>0.7</td>
      <td>0.09121</td>
      <td>0.280518</td>
      <td>0.038355</td>
      <td>0.17212</td>
      <td>0.61690</td>
      <td>105.0253</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9b6af801-f599-448f-819a-7c444303c54e')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9b6af801-f599-448f-819a-7c444303c54e button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9b6af801-f599-448f-819a-7c444303c54e');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<div class="codehilite"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;artist&#39;</span><span class="p">)[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f7e11316ad0&gt;
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_25_1.png" /></p>
<p>we see that it is difficult to see all the features together at once. One tactic may be to normalize the features</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># (x - x.min()) / (x.max() - x.min())</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">scaled</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">()))</span>
<span class="n">scaled</span><span class="p">[</span><span class="s1">&#39;artist&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;artist&#39;</span><span class="p">]</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">scaled</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;artist&#39;</span><span class="p">)[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9c3412a390&gt;
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_29_1.png" /></p>
<p>We can then investigate if these scaled and centered features separate out under a dimensionality reduction (a topic we explore in unsupervised learning):</p>
<div class="codehilite"><pre><span></span><code><span class="n">scaled</span><span class="p">[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>

<div id="df-4fc0a0b1-1bdc-4606-b8d6-1bebbaf9462d">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>valence</th>
      <th>tempo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.469349</td>
      <td>-0.300769</td>
      <td>1.218214</td>
      <td>0.351423</td>
      <td>-1.587451</td>
      <td>-0.342620</td>
      <td>0.186938</td>
      <td>-1.068262</td>
      <td>-0.305866</td>
      <td>-0.356202</td>
      <td>-0.626640</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.980922</td>
      <td>1.462203</td>
      <td>1.784825</td>
      <td>0.561988</td>
      <td>0.617342</td>
      <td>0.042005</td>
      <td>-1.138510</td>
      <td>-0.671989</td>
      <td>1.739793</td>
      <td>1.230425</td>
      <td>0.286535</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.005519</td>
      <td>1.372864</td>
      <td>1.218214</td>
      <td>0.399148</td>
      <td>0.617342</td>
      <td>6.296175</td>
      <td>-1.055757</td>
      <td>-0.762811</td>
      <td>2.231454</td>
      <td>0.489749</td>
      <td>-0.407896</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.165947</td>
      <td>1.259700</td>
      <td>-0.198314</td>
      <td>0.798594</td>
      <td>-1.587451</td>
      <td>0.668137</td>
      <td>-0.243189</td>
      <td>-1.000862</td>
      <td>0.800371</td>
      <td>1.719197</td>
      <td>-0.657743</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.461135</td>
      <td>0.518179</td>
      <td>-0.764925</td>
      <td>0.724615</td>
      <td>0.617342</td>
      <td>-0.059966</td>
      <td>-0.112281</td>
      <td>-1.074920</td>
      <td>-0.874787</td>
      <td>1.136431</td>
      <td>-0.682231</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4fc0a0b1-1bdc-4606-b8d6-1bebbaf9462d')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4fc0a0b1-1bdc-4606-b8d6-1bebbaf9462d button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4fc0a0b1-1bdc-4606-b8d6-1bebbaf9462d');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">PCA</span>
<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">pca</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">scaled</span><span class="p">[</span><span class="n">feat_names</span><span class="p">])</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>PCA(n_components=2)
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">color_dict</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>{&#39;debussy&#39;: &#39;tab:orange&#39;,
 &#39;johnwill&#39;: &#39;tab:pink&#39;,
 &#39;luttrell&#39;: &#39;tab:red&#39;,
 &#39;tswift&#39;: &#39;tab:green&#39;,
 &#39;zep&#39;: &#39;tab:blue&#39;}
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">X_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">feat_names</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X_pca</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X_pca</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
            <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;First PC&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Second PC&#39;</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Text(0, 0.5, &#39;Second PC&#39;)
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_34_1.png" /></p>
<h2 id="exercises">üèãÔ∏è‚Äç‚ôÄÔ∏è Exercises<a class="headerlink" href="#exercises" title="Permanent link">&para;</a></h2>
<h3 id="exercise-1-find-artist-urls-and-build-dataset">üïµÔ∏è‚Äç‚ôÄÔ∏è Exercise 1: Find artist urls and build dataset<a class="headerlink" href="#exercise-1-find-artist-urls-and-build-dataset" title="Permanent link">&para;</a></h3>
<p>a. Navigate to the Spotify web application, pick 5 artists and update the the dictionary below</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib.colors</span> <span class="k">as</span> <span class="nn">mcolors</span>
<span class="n">mcolors</span><span class="o">.</span><span class="n">TABLEAU_COLORS</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>OrderedDict([(&#39;tab:blue&#39;, &#39;#1f77b4&#39;),
             (&#39;tab:orange&#39;, &#39;#ff7f0e&#39;),
             (&#39;tab:green&#39;, &#39;#2ca02c&#39;),
             (&#39;tab:red&#39;, &#39;#d62728&#39;),
             (&#39;tab:purple&#39;, &#39;#9467bd&#39;),
             (&#39;tab:brown&#39;, &#39;#8c564b&#39;),
             (&#39;tab:pink&#39;, &#39;#e377c2&#39;),
             (&#39;tab:gray&#39;, &#39;#7f7f7f&#39;),
             (&#39;tab:olive&#39;, &#39;#bcbd22&#39;),
             (&#39;tab:cyan&#39;, &#39;#17becf&#39;)])
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c1"># Cell for 1.a</span>

<span class="n">artist_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;zep&#39;</span><span class="p">:</span> <span class="s1">&#39;36QJpDe2go2KgaRleHCDTp&#39;</span><span class="p">,</span>
               <span class="s1">&#39;tswift&#39;</span><span class="p">:</span> <span class="s1">&#39;06HL4z0CvFAxyc27GXpf02&#39;</span><span class="p">,</span>
               <span class="s1">&#39;debussy&#39;</span><span class="p">:</span> <span class="s1">&#39;1Uff91EOsvd99rtAupatMP&#39;</span><span class="p">,</span>
               <span class="s1">&#39;luttrell&#39;</span><span class="p">:</span> <span class="s1">&#39;4EOyJnoiiOJ4vuNhSBArB2&#39;</span><span class="p">,</span>
               <span class="s1">&#39;johnwill&#39;</span><span class="p">:</span> <span class="s1">&#39;3dRfiJ2650SZu6GbydcHNb&#39;</span><span class="p">,</span>
               <span class="s1">&#39;chopin&#39;</span><span class="p">:</span> <span class="s1">&#39;7y97mc3bZRFXzT2szRM4L4&#39;</span><span class="p">,</span>
               <span class="s1">&#39;2pac&#39;</span><span class="p">:</span> <span class="s1">&#39;1ZwdS5xdxEREPySFridCfh&#39;</span><span class="p">,</span>
               <span class="s1">&#39;ganja&#39;</span><span class="p">:</span> <span class="s1">&#39;1a6oIpEh4DGgaqgWg5xwd3&#39;</span><span class="p">}</span>

<span class="n">color_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;zep&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span>
               <span class="s1">&#39;tswift&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:green&#39;</span><span class="p">,</span>
               <span class="s1">&#39;debussy&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:orange&#39;</span><span class="p">,</span>
               <span class="s1">&#39;luttrell&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:red&#39;</span><span class="p">,</span>
               <span class="s1">&#39;johnwill&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:pink&#39;</span><span class="p">,</span>
               <span class="s1">&#39;chopin&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:brown&#39;</span><span class="p">,</span>
               <span class="s1">&#39;2pac&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:gray&#39;</span><span class="p">,</span>
               <span class="s1">&#39;ganja&#39;</span><span class="p">:</span> <span class="s1">&#39;tab:purple&#39;</span><span class="p">}</span>
</code></pre></div>

<p>b. build feature set using <code>spotify.artist_top_tracks('spotify:artist:' + uri)</code> and storing the resultant track information</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Cell for 1.b</span>
<span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">artists</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">artist</span><span class="p">,</span> <span class="n">uri</span> <span class="ow">in</span> <span class="n">artist_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
  <span class="n">results</span> <span class="o">=</span> <span class="n">spotify</span><span class="o">.</span><span class="n">artist_top_tracks</span><span class="p">(</span><span class="s1">&#39;spotify:artist:&#39;</span> <span class="o">+</span> <span class="n">uri</span><span class="p">)</span>


  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">track</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;tracks&#39;</span><span class="p">]):</span>
      <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">track</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
      <span class="n">artists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">artist</span><span class="p">)</span>
      <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color_dict</span><span class="p">[</span><span class="n">artist</span><span class="p">])</span>
      <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;track    : &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cover art: &#39;</span> <span class="o">+</span> <span class="n">track</span><span class="p">[</span><span class="s1">&#39;album&#39;</span><span class="p">][</span><span class="s1">&#39;images&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;url&#39;</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>track    : Stairway to Heaven - Remaster
cover art: https://i.scdn.co/image/ab67616d0000b273c8a11e48c91a982d086afc69

track    : All Too Well (10 Minute Version) (Taylor&#39;s Version) (From The Vault)
cover art: https://i.scdn.co/image/ab67616d0000b273318443aab3531a0558e79a4d

track    : Clair de Lune, L. 32
cover art: https://i.scdn.co/image/ab67616d0000b2736e7bb273ff9cb1de1e1d4d0a

track    : Twin Souls
cover art: https://i.scdn.co/image/ab67616d0000b2735dea3da9d2751a0fa7b23fd3

track    : Carol of the Bells
cover art: https://i.scdn.co/image/ab67616d0000b273a68c06155b7c3cf82b00cb96

track    : Nocturne No. 2 in E-Flat Major, Op. 9 No. 2
cover art: https://i.scdn.co/image/ab67616d0000b27355c82855070525581e2c6fee

track    : Hit &#39;Em Up - Single Version
cover art: https://i.scdn.co/image/ab67616d0000b273d81a092eb373ded457d94eec

track    : Miss You
cover art: https://i.scdn.co/image/ab67616d0000b273bbfbb9cd91d8676f68676e59
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">features</span> <span class="o">=</span> <span class="n">spotify</span><span class="o">.</span><span class="n">audio_features</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;artist&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">artists</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span>
<span class="n">feat_names</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="mi">11</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">feat_names</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>Index([&#39;danceability&#39;, &#39;energy&#39;, &#39;key&#39;, &#39;loudness&#39;, &#39;mode&#39;, &#39;speechiness&#39;,
       &#39;acousticness&#39;, &#39;instrumentalness&#39;, &#39;liveness&#39;, &#39;valence&#39;, &#39;tempo&#39;],
      dtype=&#39;object&#39;)
</code></pre></div>

<h3 id="exercise-2-visualize-features">üí´ Exercise 2: Visualize Features<a class="headerlink" href="#exercise-2-visualize-features" title="Permanent link">&para;</a></h3>
<p>a. Create a boxplot of each feature, grouped by artist (similar to example above)</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Cell for 2.a</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
<span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">feat_names</span><span class="p">):</span>
  <span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;artist&#39;</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                                <span class="n">indices</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_43_0.png" /></p>
<p>b. Normalize the features this time, then create the boxplot</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Cell for 2.b</span>
<span class="n">scaled</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">()))</span>
<span class="n">scaled</span><span class="p">[</span><span class="s1">&#39;artist&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;artist&#39;</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
<span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">feat_names</span><span class="p">):</span>
  <span class="n">scaled</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;artist&#39;</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                                <span class="n">indices</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_45_0.png" /></p>
<h3 id="exercise-3-write-a-function-that-returns-a-similarity-score-between-two-artists">‚öñÔ∏è Exercise 3: Write a function that returns a similarity score between two artists<a class="headerlink" href="#exercise-3-write-a-function-that-returns-a-similarity-score-between-two-artists" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Cell for 3</span>
<span class="n">avg</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;artist&#39;</span><span class="p">)[</span><span class="n">feat_names</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">avg</span>
</code></pre></div>

<div id="df-25aa3c40-8912-4bd4-8bfe-89649b1d23e2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>danceability</th>
      <th>energy</th>
      <th>key</th>
      <th>loudness</th>
      <th>mode</th>
      <th>speechiness</th>
      <th>acousticness</th>
      <th>instrumentalness</th>
      <th>liveness</th>
      <th>valence</th>
      <th>tempo</th>
    </tr>
    <tr>
      <th>artist</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2pac</th>
      <td>0.8102</td>
      <td>0.692400</td>
      <td>5.0</td>
      <td>-6.2682</td>
      <td>0.8</td>
      <td>0.18134</td>
      <td>0.097199</td>
      <td>0.000569</td>
      <td>0.20875</td>
      <td>0.62680</td>
      <td>100.6579</td>
    </tr>
    <tr>
      <th>chopin</th>
      <td>0.3255</td>
      <td>0.018298</td>
      <td>4.6</td>
      <td>-30.1471</td>
      <td>0.5</td>
      <td>0.04479</td>
      <td>0.988800</td>
      <td>0.906600</td>
      <td>0.08981</td>
      <td>0.10532</td>
      <td>86.1455</td>
    </tr>
    <tr>
      <th>debussy</th>
      <td>0.2868</td>
      <td>0.019716</td>
      <td>3.6</td>
      <td>-30.3510</td>
      <td>0.8</td>
      <td>0.04209</td>
      <td>0.990800</td>
      <td>0.927000</td>
      <td>0.07817</td>
      <td>0.07747</td>
      <td>81.2996</td>
    </tr>
    <tr>
      <th>ganja</th>
      <td>0.6506</td>
      <td>0.701500</td>
      <td>5.2</td>
      <td>-5.0898</td>
      <td>0.3</td>
      <td>0.08868</td>
      <td>0.083128</td>
      <td>0.114312</td>
      <td>0.12767</td>
      <td>0.40886</td>
      <td>108.9341</td>
    </tr>
    <tr>
      <th>johnwill</th>
      <td>0.2783</td>
      <td>0.151770</td>
      <td>3.9</td>
      <td>-20.4347</td>
      <td>0.5</td>
      <td>0.03766</td>
      <td>0.903000</td>
      <td>0.615920</td>
      <td>0.18085</td>
      <td>0.19182</td>
      <td>87.2151</td>
    </tr>
    <tr>
      <th>luttrell</th>
      <td>0.5310</td>
      <td>0.706000</td>
      <td>4.5</td>
      <td>-9.3468</td>
      <td>0.7</td>
      <td>0.03504</td>
      <td>0.127682</td>
      <td>0.669259</td>
      <td>0.18714</td>
      <td>0.16701</td>
      <td>117.5059</td>
    </tr>
    <tr>
      <th>tswift</th>
      <td>0.5073</td>
      <td>0.621700</td>
      <td>4.2</td>
      <td>-6.4014</td>
      <td>0.9</td>
      <td>0.05926</td>
      <td>0.198158</td>
      <td>0.000263</td>
      <td>0.13591</td>
      <td>0.40550</td>
      <td>125.7815</td>
    </tr>
    <tr>
      <th>zep</th>
      <td>0.4523</td>
      <td>0.705800</td>
      <td>7.3</td>
      <td>-10.2421</td>
      <td>0.7</td>
      <td>0.09121</td>
      <td>0.280518</td>
      <td>0.038355</td>
      <td>0.17212</td>
      <td>0.61690</td>
      <td>105.0253</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-25aa3c40-8912-4bd4-8bfe-89649b1d23e2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-25aa3c40-8912-4bd4-8bfe-89649b1d23e2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-25aa3c40-8912-4bd4-8bfe-89649b1d23e2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>

<div class="codehilite"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="n">avg</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2pac&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">avg</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;zep&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">):</span>
  <span class="n">x</span> <span class="o">=</span> <span class="n">avg</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">xlabel</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
  <span class="n">y</span> <span class="o">=</span> <span class="n">avg</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ylabel</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
  <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(((</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;2pac&#39;</span><span class="p">,</span> <span class="s1">&#39;ganja&#39;</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>8.38304605268043
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;chopin&#39;</span><span class="p">,</span> <span class="s1">&#39;debussy&#39;</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>4.9615683289484185
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">avg</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">avg</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">avg</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">index2</span><span class="p">,</span> <span class="n">name2</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">avg</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">distance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">name2</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name2</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">scores</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="n">index2</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">name2</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>0.00 2pac 2pac 
27.99 2pac chopin 
30.97 2pac debussy 
8.38 2pac ganja 
19.61 2pac johnwill 
17.16 2pac luttrell 
25.14 2pac tswift 
6.35 2pac zep
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">dists</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">avg</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">avg</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">dists</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9c32ee0190&gt;
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_55_1.png" /></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="c1"># create a mask to white-out the upper triangle</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">dists</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>

<span class="c1"># we&#39;ll want a divergent colormap for this so our eye</span>
<span class="c1"># is not attracted to the values close to 0</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">diverging_palette</span><span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">as_cmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">dists</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f9c32a1b450&gt;
</code></pre></div>

<p><img alt="png" src="../SOLN_X1_Spotify_API_files/SOLN_X1_Spotify_API_56_1.png" /></p>
<div class="codehilite"><pre><span></span><code>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Wesley Beckner
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.361d90f1.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.289a2a4b.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>